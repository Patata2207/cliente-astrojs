---
import '../styles/global.css';
---

<html lang="es" class="h-full">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Panel Visitas</title>
		<!-- Google Fonts para mejor tipografía -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
	</head>
	<body class="min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-slate-900 text-slate-100 font-sans antialiased selection:bg-indigo-500/70 selection:text-white overflow-x-hidden" style="font-family: 'Inter', sans-serif;">
		<!-- Efecto de luz ambiental superior -->
		<div class="fixed top-0 left-1/2 -translate-x-1/2 w-[800px] h-[400px] bg-gradient-to-b from-indigo-500/20 via-purple-500/10 to-transparent rounded-full blur-3xl pointer-events-none"></div>
		
		<!-- Efecto de grilla de fondo -->
		<div class="fixed inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMzAgMzBoMXYxaC0xeiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjAzKSIvPjwvZz48L3N2Zz4=')] opacity-50 pointer-events-none"></div>
		
		<!-- Botón de tema mejorado -->
		<div class="fixed top-4 right-4 flex items-center gap-2 z-50">
			<button id="themeToggle" class="group px-4 py-2.5 rounded-xl text-sm font-medium bg-white/5 backdrop-blur-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 flex items-center gap-2 shadow-lg shadow-black/20" aria-label="Cambiar tema">
				<span class="relative w-5 h-5">
					<svg class="absolute inset-0 w-5 h-5 text-amber-400 transition-all duration-300 group-hover:rotate-90 dark:opacity-100 opacity-0" fill="currentColor" viewBox="0 0 20 20">
						<path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
					</svg>
					<svg class="absolute inset-0 w-5 h-5 text-indigo-300 transition-all duration-300 group-hover:-rotate-12 dark:opacity-0 opacity-100" fill="currentColor" viewBox="0 0 20 20">
						<path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
					</svg>
				</span>
				<span class="hidden sm:inline">Tema</span>
			</button>
		</div>
		
		<main class="relative pt-20 pb-16 px-4 md:px-8">
			<div class="max-w-7xl mx-auto">
				<slot />
			</div>
		</main>
		
		<!-- Footer elegante -->
		<footer class="relative border-t border-white/5 mt-auto">
			<div class="max-w-7xl mx-auto px-4 py-8">
				<div class="flex flex-col md:flex-row items-center justify-between gap-4">
					<div class="flex items-center gap-3">
						<div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center">
							<svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/>
							</svg>
						</div>
						<span class="text-sm text-white/50">Panel de Visitas</span>
					</div>
					<p class="text-xs text-white/30">© 2025 · Sistema de gestión de visitas</p>
				</div>
			</div>
		</footer>
		
		<script>
			const btn = document.getElementById('themeToggle');
			const root = document.documentElement;
			const saved = localStorage.getItem('theme2025');
			if(saved === 'light'){ root.classList.add('light'); }
			btn?.addEventListener('click', () => {
				const isLight = root.classList.toggle('light');
				localStorage.setItem('theme2025', isLight ? 'light' : 'dark');
			});
		</script>
		<style>
			html.light body { 
				background: linear-gradient(135deg, #f8fafc, #e0e7ff, #f5f3ff); 
				color: #1e293b; 
			}
			html.light .card-glass { 
				background: rgba(255, 255, 255, 0.8); 
				color: #1e293b; 
			}
			html.light footer {
				border-color: rgba(0, 0, 0, 0.08);
			}
			html.light footer span,
			html.light footer p {
				color: #64748b !important;
			}

			/* Textos y títulos en modo claro */
			html.light h1,
			html.light h2,
			html.light h3 {
				color: #0f172a !important;
				background: none !important;
				-webkit-text-fill-color: #0f172a !important;
			}

			html.light .text-white {
				color: #0f172a !important;
			}

			html.light .text-white\/60,
			html.light .text-white\/50,
			html.light .text-white\/70 {
				color: #64748b !important;
			}

			html.light .bg-gradient-to-r.from-white {
				background: none !important;
			}

			/* Botones en modo claro */
			html.light #themeToggle {
				background: rgba(255, 255, 255, 0.9);
				border-color: #e2e8f0;
				color: #1e293b;
			}

			html.light #themeToggle:hover {
				background: #ffffff;
				border-color: #cbd5e1;
			}

			html.light #btnAgregar {
				box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
			}

			html.light #logout {
				background: rgba(255, 255, 255, 0.8);
				border-color: #e2e8f0;
				color: #475569;
			}

			html.light #logout:hover {
				background: #fef2f2;
				border-color: #fca5a5;
				color: #dc2626;
			}

			/* Cards de estadísticas en modo claro */
			html.light .stat-card .text-3xl {
				color: #0f172a !important;
			}

			html.light .stat-card .text-emerald-400 {
				color: #059669 !important;
			}

			html.light .stat-card .text-blue-400 {
				color: #2563eb !important;
			}

			html.light .stat-card .text-amber-400 {
				color: #d97706 !important;
			}

			html.light .stat-card .text-purple-400 {
				color: #7c3aed !important;
			}

			html.light .bg-emerald-500\/20,
			html.light .bg-emerald-500\/30 {
				background: #d1fae5 !important;
			}

			html.light .bg-blue-500\/20,
			html.light .bg-blue-500\/30 {
				background: #dbeafe !important;
			}

			html.light .bg-amber-500\/20,
			html.light .bg-amber-500\/30 {
				background: #fef3c7 !important;
			}

			html.light .bg-purple-500\/20,
			html.light .bg-purple-500\/30 {
				background: #ede9fe !important;
			}

			/* Sección de analíticas */
			html.light .text-indigo-400,
			html.light .text-pink-400 {
				color: #4f46e5 !important;
			}
			
			/* Animación de entrada del body */
			body {
				animation: body-fade-in 0.5s ease-out;
			}
			
			@keyframes body-fade-in {
				from {
					opacity: 0;
				}
				to {
					opacity: 1;
				}
			}
		</style>
	</body>
</html>
